# Bybit Trading Client

–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –∫–ª–∏–µ–Ω—Ç –¥–ª—è —Ç–æ—Ä–≥–æ–≤–ª–∏ –Ω–∞ –±–∏—Ä–∂–µ Bybit —á–µ—Ä–µ–∑ API V5.

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.8+
- –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ `requests`

```bash
pip install requests
```

---

## üîë –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å API –∫–ª—é—á–∏

### –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞ –Ω–∞ Testnet (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)

> ‚ö†Ô∏è **–í–ê–ñ–ù–û**: –í—Å–µ–≥–¥–∞ –Ω–∞—á–∏–Ω–∞–π—Ç–µ —Å —Ç–µ—Å—Ç–æ–≤–æ–π —Å–µ—Ç–∏!

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ **https://testnet.bybit.com**
2. –ù–∞–∂–º–∏—Ç–µ **"Sign Up"** (—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è)
3. –í–≤–µ–¥–∏—Ç–µ email –∏ —Å–æ–∑–¥–∞–π—Ç–µ –ø–∞—Ä–æ–ª—å
4. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ email
5. –ü—Ä–æ–π–¥–∏—Ç–µ –±–∞–∑–æ–≤—É—é –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—é (–º–æ–∂–Ω–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å –¥–ª—è testnet)

### –®–∞–≥ 2: –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤

1. –ü–æ—Å–ª–µ –≤—Ö–æ–¥–∞ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Assets** ‚Üí **Spot Account**
2. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **"Get Testnet Coins"** –∏–ª–∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞:
   - https://testnet.bybit.com/faucet
3. –ó–∞–ø—Ä–æ—Å–∏—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–µ BTC, ETH, USDT

### –®–∞–≥ 3: –°–æ–∑–¥–∞–Ω–∏–µ API –∫–ª—é—á–µ–π –Ω–∞ Testnet

1. –í–æ–π–¥–∏—Ç–µ –Ω–∞ **https://testnet.bybit.com**
2. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∏–∫–æ–Ω–∫—É –ø—Ä–æ—Ñ–∏–ª—è (–ø—Ä–∞–≤—ã–π –≤–µ—Ä—Ö–Ω–∏–π —É–≥–æ–ª)
3. –í—ã–±–µ—Ä–∏—Ç–µ **"API"** –∏–ª–∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞–ø—Ä—è–º—É—é:
   - https://testnet.bybit.com/app/user/api-management
4. –ù–∞–∂–º–∏—Ç–µ **"Create New Key"**
5. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É:
   - **Key Name**: –ª—é–±–æ–µ –∏–º—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, "TradingBot")
   - **API Key Type**: –≤—ã–±–µ—Ä–∏—Ç–µ **"System-generated API Keys"**
   - **Permissions**: –≤–∫–ª—é—á–∏—Ç–µ –Ω—É–∂–Ω—ã–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è:
     - ‚úÖ **Read-Write** (–¥–ª—è —Ç–æ—Ä–≥–æ–≤–ª–∏)
     - ‚úÖ **Spot** - —Ç–æ—Ä–≥–æ–≤–ª—è —Å–ø–æ—Ç
     - ‚úÖ **Derivatives** - —Ç–æ—Ä–≥–æ–≤–ª—è —Ñ—å—é—á–µ—Ä—Å–∞–º–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
     - ‚úÖ **Wallet** - –¥–æ—Å—Ç—É–ø –∫ –±–∞–ª–∞–Ω—Å—É
   - **IP Access**: –æ—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º –∏–ª–∏ –¥–æ–±–∞–≤—å—Ç–µ —Å–≤–æ–π IP
6. –ù–∞–∂–º–∏—Ç–µ **"Submit"**
7. –í–≤–µ–¥–∏—Ç–µ –∫–æ–¥ –∏–∑ email/Google Authenticator
8. **–°–û–•–†–ê–ù–ò–¢–ï API Key –∏ API Secret!** (Secret –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑!)

### –®–∞–≥ 4: –î–ª—è —Ä–µ–∞–ª—å–Ω–æ–π —Ç–æ—Ä–≥–æ–≤–ª–∏ (Mainnet)

> ‚ö†Ô∏è **–û–°–¢–û–†–û–ñ–ù–û**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è!

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ **https://www.bybit.com**
2. –í—ã–ø–æ–ª–Ω–∏—Ç–µ KYC –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—é (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è API)
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Profile** ‚Üí **API Management**
   - https://www.bybit.com/app/user/api-management
4. –°–æ–∑–¥–∞–π—Ç–µ API –∫–ª—é—á (–∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ Testnet)
5. –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:
   - ‚úÖ –ü—Ä–∏–≤—è–∂–∏—Ç–µ –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É IP
   - ‚úÖ –û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –ø—Ä–∞–≤–∞ (—Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ)
   - ‚ùå –ù–µ –≤–∫–ª—é—á–∞–π—Ç–µ "Withdrawal" –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
bybit_trader/
‚îú‚îÄ‚îÄ bybit_client.py     # –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ (–∫–ª–∞—Å—Å—ã, –º–µ—Ç–æ–¥—ã API)
‚îú‚îÄ‚îÄ test_trading.py     # –¢–µ—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª (–∑–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤)
‚îî‚îÄ‚îÄ README.md           # –≠—Ç–∞ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
```

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–ª—é—á–µ–π

–û—Ç–∫—Ä–æ–π—Ç–µ `test_trading.py` –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ:

```python
API_KEY = "–≤–∞—à_api_key"
API_SECRET = "–≤–∞—à_api_secret"
USE_TESTNET = True  # True –¥–ª—è —Ç–µ—Å—Ç–æ–≤, False –¥–ª—è —Ä–µ–∞–ª—å–Ω–æ–π —Ç–æ—Ä–≥–æ–≤–ª–∏
```

### 2. –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

```bash
cd bybit_trader
python test_trading.py
```

### 3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ —Å–≤–æ–µ–º –∫–æ–¥–µ

```python
from bybit_client import BybitClient, Category

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
client = BybitClient(
    api_key="–≤–∞—à_–∫–ª—é—á",
    api_secret="–≤–∞—à_—Å–µ–∫—Ä–µ—Ç",
    testnet=True
)

# –ü–æ–ª—É—á–∏—Ç—å –±–∞–ª–∞–Ω—Å
balance = client.get_wallet_balance()

# –ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â—É—é —Ü–µ–Ω—É BTC
price = client.get_current_price("BTCUSDT")

# –†—ã–Ω–æ—á–Ω–∞—è –ø–æ–∫—É–ø–∫–∞ 0.001 BTC
result = client.market_buy("BTCUSDT", "0.001")

# –õ–∏–º–∏—Ç–Ω—ã–π –æ—Ä–¥–µ—Ä –Ω–∞ –ø—Ä–æ–¥–∞–∂—É
result = client.limit_sell("BTCUSDT", "0.001", "100000")

# –û—Ç–º–µ–Ω–∞ –æ—Ä–¥–µ—Ä–∞
result = client.cancel_order(Category.SPOT, "BTCUSDT", order_id="xxx")
```

---

## üìö –î–æ—Å—Ç—É–ø–Ω—ã–µ –º–µ—Ç–æ–¥—ã

### –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ (–Ω–µ —Ç—Ä–µ–±—É—é—Ç –∫–ª—é—á–µ–π)

| –ú–µ—Ç–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|
| `get_server_time()` | –í—Ä–µ–º—è —Å–µ—Ä–≤–µ—Ä–∞ |
| `get_ticker(category, symbol)` | –¢–µ–∫—É—â–∞—è —Ü–µ–Ω–∞ |
| `get_orderbook(category, symbol)` | –°—Ç–∞–∫–∞–Ω –æ—Ä–¥–µ—Ä–æ–≤ |
| `get_instruments_info(category, symbol)` | –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–µ |

### –ê–∫–∫–∞—É–Ω—Ç (—Ç—Ä–µ–±—É—é—Ç API –∫–ª—é—á–∏)

| –ú–µ—Ç–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|
| `get_wallet_balance()` | –ë–∞–ª–∞–Ω—Å –∫–æ—à–µ–ª—å–∫–∞ |
| `get_positions(category)` | –û—Ç–∫—Ä—ã—Ç—ã–µ –ø–æ–∑–∏—Ü–∏–∏ (—Ñ—å—é—á–µ—Ä—Å—ã) |

### –¢–æ—Ä–≥–æ–≤–ª—è (—Ç—Ä–µ–±—É—é—Ç API –∫–ª—é—á–∏)

| –ú–µ—Ç–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|
| `market_buy(symbol, qty)` | –†—ã–Ω–æ—á–Ω–∞—è –ø–æ–∫—É–ø–∫–∞ |
| `market_sell(symbol, qty)` | –†—ã–Ω–æ—á–Ω–∞—è –ø—Ä–æ–¥–∞–∂–∞ |
| `limit_buy(symbol, qty, price)` | –õ–∏–º–∏—Ç–Ω–∞—è –ø–æ–∫—É–ø–∫–∞ |
| `limit_sell(symbol, qty, price)` | –õ–∏–º–∏—Ç–Ω–∞—è –ø—Ä–æ–¥–∞–∂–∞ |
| `place_order(...)` | –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –º–µ—Ç–æ–¥ (–ø–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å) |
| `cancel_order(category, symbol, order_id)` | –û—Ç–º–µ–Ω–∞ –æ—Ä–¥–µ—Ä–∞ |
| `cancel_all_orders(category)` | –û—Ç–º–µ–Ω–∞ –≤—Å–µ—Ö –æ—Ä–¥–µ—Ä–æ–≤ |
| `get_open_orders(category)` | –û—Ç–∫—Ä—ã—Ç—ã–µ –æ—Ä–¥–µ—Ä–∞ |
| `get_order_history(category)` | –ò—Å—Ç–æ—Ä–∏—è –æ—Ä–¥–µ—Ä–æ–≤ |

### –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ

| –ú–µ—Ç–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|
| `get_current_price(symbol)` | –¢–µ–∫—É—â–∞—è —Ü–µ–Ω–∞ (—É–ø—Ä–æ—â–µ–Ω–Ω—ã–π) |
| `get_min_order_qty(symbol)` | –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –æ—Ä–¥–µ—Ä–∞ |
| `calculate_qty_from_usdt(symbol, usdt)` | –†–∞—Å—á–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∏–∑ USDT |

---

## üìä –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ç–æ—Ä–≥–æ–≤–ª–∏

```python
from bybit_client import Category

Category.SPOT     # –°–ø–æ—Ç–æ–≤–∞—è —Ç–æ—Ä–≥–æ–≤–ª—è
Category.LINEAR   # USDT Perpetual —Ñ—å—é—á–µ—Ä—Å—ã
Category.INVERSE  # Inverse Perpetual —Ñ—å—é—á–µ—Ä—Å—ã
```

---

## ‚öôÔ∏è –¢–∏–ø—ã –æ—Ä–¥–µ—Ä–æ–≤

```python
from bybit_client import OrderType, TimeInForce

# –¢–∏–ø—ã –æ—Ä–¥–µ—Ä–æ–≤
OrderType.MARKET  # –†—ã–Ω–æ—á–Ω—ã–π
OrderType.LIMIT   # –õ–∏–º–∏—Ç–Ω—ã–π

# –í—Ä–µ–º—è –¥–µ–π—Å—Ç–≤–∏—è
TimeInForce.GTC       # Good Till Cancel (–¥–æ –æ—Ç–º–µ–Ω—ã)
TimeInForce.IOC       # Immediate or Cancel
TimeInForce.FOK       # Fill or Kill
TimeInForce.POST_ONLY # –¢–æ–ª—å–∫–æ –º–µ–π–∫–µ—Ä
```

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

1. **–ù–∏–∫–æ–≥–¥–∞ –Ω–µ —Ö—Ä–∞–Ω–∏—Ç–µ –∫–ª—é—á–∏ –≤ –∫–æ–¥–µ!** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:

```python
import os

API_KEY = os.environ.get("BYBIT_API_KEY")
API_SECRET = os.environ.get("BYBIT_API_SECRET")
```

```bash
export BYBIT_API_KEY="–≤–∞—à_–∫–ª—é—á"
export BYBIT_API_SECRET="–≤–∞—à_—Å–µ–∫—Ä–µ—Ç"
```

2. **–û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –ø—Ä–∞–≤–∞ API** - —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ
3. **–ü—Ä–∏–≤—è–∂–∏—Ç–µ –∫ IP** - –µ—Å–ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ
4. **–ù–µ –≤–∫–ª—é—á–∞–π—Ç–µ Withdrawal** - –µ—Å–ª–∏ –Ω–µ –Ω—É–∂–Ω–æ
5. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Testnet** - –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ —Ç–µ—Å—Ç–æ–≤

---

## üêõ –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏

| –ö–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ | –†–µ—à–µ–Ω–∏–µ |
|-----|----------|---------|
| 10001 | Invalid request | –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã |
| 10003 | Invalid API key | –ü—Ä–æ–≤–µ—Ä—å—Ç–µ API –∫–ª—é—á |
| 10004 | Invalid sign | –ü—Ä–æ–≤–µ—Ä—å—Ç–µ API secret |
| 10005 | Permission denied | –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ API –∫–ª—é—á–∞ |
| 10006 | Too many requests | –£–º–µ–Ω—å—à–∏—Ç–µ —á–∞—Å—Ç–æ—Ç—É –∑–∞–ø—Ä–æ—Å–æ–≤ |
| 110001 | Insufficient balance | –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤ |
| 110007 | Order qty too small | –£–≤–µ–ª–∏—á—å—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ |

---

## üìù –ü—Ä–∏–º–µ—Ä—ã

### –ü–æ–∫—É–ø–∫–∞ BTC –Ω–∞ $100

```python
client = BybitClient(api_key, api_secret, testnet=True)

# –†–∞—Å—Å—á–∏—Ç–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ BTC –Ω–∞ $100
qty = client.calculate_qty_from_usdt("BTCUSDT", 100)
print(f"–ü–æ–∫—É–ø–∞–µ–º {qty} BTC")

# –ö—É–ø–∏—Ç—å
result = client.market_buy("BTCUSDT", qty)
if result.success:
    print(f"–£—Å–ø–µ—Ö! Order ID: {result.order_id}")
```

### –í—ã—Å—Ç–∞–≤–∏—Ç—å –æ—Ä–¥–µ—Ä –Ω–∏–∂–µ —Ä—ã–Ω–∫–∞ –Ω–∞ 5%

```python
# –ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â—É—é —Ü–µ–Ω—É
price = client.get_current_price("BTCUSDT")

# –¶–µ–Ω–∞ –Ω–∞ 5% –Ω–∏–∂–µ
target_price = str(round(price * 0.95, 2))

# –í—ã—Å—Ç–∞–≤–∏—Ç—å –ª–∏–º–∏—Ç–Ω—ã–π –æ—Ä–¥–µ—Ä
result = client.limit_buy("BTCUSDT", "0.001", target_price)
```

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Bybit API: https://bybit-exchange.github.io/docs/v5/intro
- Bybit Testnet: https://testnet.bybit.com
- –°—Ç–∞—Ç—É—Å API: https://status.bybit.com
