# =============================================================================
# COMMON
# =============================================================================
# Логирование: DEBUG | INFO | WARNING | ERROR
LOG_LEVEL=INFO


# =============================================================================
# SERVICE 1: Daily token universe collector -> CSV (run_daily_00_collect.py)
# =============================================================================
# Таймзона планировщика (сбор в 00:00)
TZ_NAME=Europe/Istanbul

# Фильтр капитализации (USD)
MARKET_CAP_THRESHOLD_USD=1000000

# Какие рынки Bybit проверяем на наличие монеты (baseCoin)
# Пример: spot,linear | linear | spot
BYBIT_CATEGORIES=spot,linear

# Куда сохранять CSV
OUTPUT_DIR=./out

# 1 = выполнить сбор сразу при старте, затем продолжить по расписанию
# 0 = только по расписанию (в 00:00)
RUN_IMMEDIATELY=0

# Маппинг символов для ребрендингов/исключений, если нужно:
# формат: "MATIC=POL,XYZ=ABC"
SYMBOL_ALIASES=

# =============================================================================
# SERVICE 2: 1m candles ingestion -> PostgreSQL (candles_ingest.py)
# =============================================================================
# SQLAlchemy async URL (обязательно)
# Пример для локальной БД:
DATABASE_URL=postgresql+asyncpg://postgres:postgres@localhost:5432/trading

# Категория Bybit для свечей: spot | linear | inverse | option
BYBIT_CATEGORY=linear

# WebSocket домен Bybit (по умолчанию stream.bybit.com)
# Если у тебя окружение/доступ привязаны к альтернативному домену (например TR-контур),
# укажи здесь нужный домен.
BYBIT_WS_DOMAIN=stream.bybit.com

# Сколько дней истории минутных свеч скачать при старте (REST backfill)
SEED_DAYS=5

# Параллелизм backfill (чем больше символов, тем аккуратнее увеличивать)
SEED_CONCURRENCY=8

# Сколько дней держать в таблице (очистка старых свечей)
KEEP_DAYS=5

# Как часто флашить батч в БД (секунды)
FLUSH_INTERVAL_S=1

# Ограничение числа токенов, загружаемых из таблицы tokens (0 = без лимита)
MAX_SYMBOLS=0
